<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Condition A</title>
  <script src="https://aframe.io/releases/1.7.1/aframe.min.js"></script>
</head>
<body>
  <a-scene scale="0.2 0.2 0.2">

    <!-- Camera rig -->
    <a-entity id="camera-rig" position="0 -3 0" rotation="0 90 0">
      <a-camera fov="90">
       <a-cursor 
        raycaster="objects: .ray-target" 
        fuse="false" 
        material="opacity: 0; transparent: true">
      </a-cursor>

      </a-camera>


    <!-- Right controller with laser -->
    <a-entity 
      laser-controls="hand: right" 
      raycaster="objects: .clickable" 
      cursor="fuse: false">
    </a-entity>

    <!-- Left controller with laser -->
    <a-entity 
      laser-controls="hand: left" 
      raycaster="objects: .clickable" 
      cursor="fuse: false">
    </a-entity>
      
    
    
  <!-- Left Pillar Plane (target for raycast) -->
    <a-plane id="left_pillar_plane" 
        class="ray-target" 
        color="tomato" 
        width="2" 
        height="12" 
        position="-6.2 5 -4"
        rotation="0 60 0"
        opacity= '0.8'
        transparent = 'true'>
    </a-plane>

    <!-- Elephant Plane (target for raycast) -->
    <a-plane id="elephantt_pillar_plane" 
        class="ray-target" 
        color="yellow" 
        width="2" 
        height="2" 
        position="5.5 1.8 -10"
        rotation="0 0 0"
        opacity= '0.8'
        transparent = 'true'>
    </a-plane>

      <!-- Text to display result -->
      <a-text id="pillar_text" 
        value="L" 
        position="0 2 -3" 
        align="center" 
        color="yellow">
      </a-text>
      
      <!-- Text to display result -->
      <a-text id="elephant_text" 
        value="L" 
        position="2 3 -3" 
        align="center" 
        color="yellow">
      </a-text>

     
    </a-entity>
    



    <!-- Sky -->
    <a-sky radius="20"></a-sky>
    
  <a-entity rotation="-90 0 0" position="4 1 -1" id="to_scene2"> 
  <a-circle class="clickable" color="white" radius="0.9" 
    material="opacity: 0.6; transparent: true"></a-circle> 
  <a-plane class="clickable" src="../images/arrow_model2.png" 
    width="1" height="1" transparent="true" 
    position="0 0 0.01" 
    material="shader: flat; opacity: 0.8; transparent: true"> 
  </a-plane> 
</a-entity>

  </a-scene>
  
  <script>
    const sky = document.querySelector('a-sky');
    const to_scene2 = document.getElementById('to_scene2');

    const functions = {
      scene1: function () {
        sky.setAttribute('src', '../images/1.webp');
      },
      scene2: function () {
        sky.setAttribute('src', '../images/2.webp');
      }
    };

    // Default to scene 1
    functions.scene1();

    to_scene2.addEventListener('click', () => {
      functions.scene2();
    });

    
  </script>

  <script>
    const left_pillar_plane  = document.getElementById('left_pillar_plane');
    const elephantt_pillar_plane  = document.getElementById('elephantt_pillar_plane');

    const pillar_text = document.getElementById('pillar_text');

    // When ray enters plane
    left_pillar_plane.addEventListener('mouseenter', () => {
      pillar_text.setAttribute('value', '✅ Ray hit the plane!');
    });

    // When ray leaves plane
    left_pillar_plane.addEventListener('mouseleave', () => {
      pillar_text.setAttribute('value', 'L');
    });

     // When ray enters plane
    elephantt_pillar_plane.addEventListener('mouseenter', () => {
      elephant_text.setAttribute('value', '✅ Ray hit the plane!');
    });

    // When ray leaves plane
    elephantt_pillar_plane.addEventListener('mouseleave', () => {
      elephant_text.setAttribute('value', 'L');
    });
  </script>
</body>
</html>
